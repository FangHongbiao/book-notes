### RocketMQ消息发送
1. RocketMQ发送普通消息有三种实现方式: 可靠同步发送, 可靠异步发送, 单向发送(Oneway)
   1. 同步: 发送者向MQ执行发送消息API时, 同步等待, 知道消息服务器返回发送结果
   2. 异步: 发送者向MQ执行发送消息API时, 指定发送成功后的回调函数, 然后调用消息发送API后, 立即返回, 消息发送者线程不阻塞, 直到运行结束, 消息发送成功或者失败的回调任务在一个新线程中执行
   3. 单向: 发送者向MQ执行发送消息API时, 直接返回, 不等待消息服务器的结果, 也不注册回调函数, 简单地说, 就是只管发, 不在乎消息是否成功地存储在消息服务器上.
2. RocketMQ消息发送需要考虑的问题
   1. 消息队列如何进行负载
   2. 消息发送如何实现高可用
   3. 批量消息发送如何实现一致性


### RocketMQ消息存储
1. 存储概要设计
   1. RocketMQ主要存储的文件包括Comitlog文件, ConsumeQueue文件, IndexFile文件
2. MappedFile 初始化
   1. transientStorePoolEnable = true
      1. 先存储在堆外内存, 然后通过Commit线程将数据提交到内存映射Buffer中, 再通过Flush线程将内存映射Buffer中的数据持久化到磁盘中
   2. transientStorePoolEnable = false


### RocketMQ消息消费
1. 消费模式
   1. 集群模式: 主题下同一条消息只允许被其中一个消费者一次
   2. 广播模式: 主题下的同一条消息将被集群内的所有消费者消费一次
2. 消息服务器与消费者之间的消息传送方式
   1. 推模式
   2. 拉模式 \
   **RocketMQ的推模式是基于拉模式**
3. 消息队列负载机制通用思想
   1. 一个消息队列同一时间只允许被一个消费者消费, 一个消费者可以消费U盾讴歌消息队列
4. RocketMQ支持局部顺序消息消费, 也就是保证同一个消息队列上的消息顺序消费. 不支持消息全局顺序消费. 如果要实现某一主题的全局顺序消息消费, 可以将该主题的队列数设置为1, 牺牲高可用性.
5. RocketMQ支持两种过滤模式
   1. 表达式(TAG, SQL92)
   2. 类过滤模式